{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Iago\\\\Desktop\\\\CursoReact\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iago\\\\desktop\\\\cursoreact\\\\frontend\\\\src\\\\pages\\\\New.js\";\nimport React, { Component } from 'react';\nimport api from '../services/api';\nimport './New.css';\n\nvar New =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(New, _Component);\n\n  function New() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, New);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(New)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      image: null,\n      author: '',\n      place: '',\n      description: '',\n      hashtags: ''\n    };\n\n    _this.handleSubmit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                data = new FormData();\n                data.append('image', _this.state.image);\n                data.append('author', _this.state.author);\n                data.append('place', _this.state.place);\n                data.append('description', _this.state.description);\n                data.append('hashtags', _this.state.hashtags);\n                _context.next = 9;\n                return api.post('/posts', data);\n\n              case 9:\n                _this.props.history.push('/');\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleImageChange = function (e) {\n      _this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(New, [{\n    key: \"render\",\n    value: function render() {\n      // Metodo obrigatorio quando escrito componente em tipo Classe!\n      return React.createElement(\"form\", {\n        id: \"new-post\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: this.handleImageChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"author\",\n        placeholder: \"Autor do post\",\n        onChange: this.handleChange,\n        value: this.state.author,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"place\",\n        placeholder: \"Local do post\",\n        onChange: this.handleChange,\n        value: this.state.place,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        placeholder: \"Descri\\xE7\\xE3o do post\",\n        onChange: this.handleChange,\n        value: this.state.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"hashtags\",\n        placeholder: \"Hashtags do post\",\n        onChange: this.handleChange,\n        value: this.state.hashtags,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Enviar\"));\n    }\n  }]);\n\n  return New;\n}(Component);\n\nexport default New;","map":{"version":3,"sources":["C:\\Users\\Iago\\desktop\\cursoreact\\frontend\\src\\pages\\New.js"],"names":["React","Component","api","New","state","image","author","place","description","hashtags","handleSubmit","e","preventDefault","data","FormData","append","post","props","history","push","handleImageChange","setState","target","files","handleChange","name","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport api from '../services/api'\r\n\r\nimport './New.css'\r\n\r\nclass New extends Component {\r\n    state = {\r\n        image: null,\r\n        author: '',\r\n        place: '',\r\n        description: '',\r\n        hashtags: '',\r\n    }\r\n\r\n    handleSubmit = async e => {\r\n        e.preventDefault()\r\n\r\n        const data = new FormData()\r\n\r\n        data.append('image', this.state.image)\r\n        data.append('author', this.state.author)\r\n        data.append('place', this.state.place)\r\n        data.append('description', this.state.description)\r\n        data.append('hashtags', this.state.hashtags)\r\n\r\n        await api.post('/posts', data)\r\n\r\n        this.props.history.push('/')\r\n    }\r\n\r\n    handleImageChange = e => {\r\n        this.setState({ image: e.target.files[0] })\r\n}\r\n\r\n    // Funcao criada para capturar o que foi colocado no formulario e jogar para as variaveis no state\r\n    handleChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    render() { // Metodo obrigatorio quando escrito componente em tipo Classe!\r\n        return(\r\n            <form id=\"new-post\" onSubmit={this.handleSubmit}>\r\n                <input type=\"file\" onChange={this.handleImageChange}/>\r\n\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"author\"\r\n                    placeholder=\"Autor do post\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.author}\r\n                />\r\n\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"place\"\r\n                    placeholder=\"Local do post\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.place}\r\n                />\r\n\r\n                 <input \r\n                    type=\"text\" \r\n                    name=\"description\"\r\n                    placeholder=\"Descrição do post\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.description}\r\n                />\r\n\r\n                <input \r\n                    type=\"text\" \r\n                    name=\"hashtags\"\r\n                    placeholder=\"Hashtags do post\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.hashtags}\r\n                />\r\n\r\n                <button type=\"submit\">Enviar</button>\r\n\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default New\r\n"]},"metadata":{},"sourceType":"module"}